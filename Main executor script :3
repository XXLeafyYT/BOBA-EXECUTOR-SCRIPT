--Made by ST1CKSNH0RR0R
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local plr = Players.LocalPlayer
local PlayerGui = plr:WaitForChild("PlayerGui")

-- Cleanup old GUI
local oldGui = PlayerGui:FindFirstChild("BobaExecutor")
if oldGui then oldGui:Destroy() end

local brownColor = Color3.fromRGB(89, 58, 40)
local brownColorDarker = Color3.fromRGB(60, 40, 20)
local brownInputBG = Color3.fromRGB(70, 45, 25)
local whiteColor = Color3.new(1,1,1)
local transparent = 0.3

local function roundify(frame, radius)
    local c = Instance.new("UICorner")
    c.CornerRadius = radius or UDim.new(0, 18)
    c.Parent = frame
end

-- Main ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BobaExecutor"
ScreenGui.Parent = PlayerGui
ScreenGui.ResetOnSpawn = false

-- Intro Frame
local IntroFrame = Instance.new("Frame")
IntroFrame.Name = "IntroFrame"
IntroFrame.Size = UDim2.new(0, 400, 0, 200)
IntroFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
IntroFrame.AnchorPoint = Vector2.new(0.5, 0.5)
IntroFrame.BackgroundColor3 = brownColor
IntroFrame.BackgroundTransparency = 0.3
roundify(IntroFrame, UDim.new(0, 30))
IntroFrame.Parent = ScreenGui

local IntroLabel = Instance.new("TextLabel")
IntroLabel.Size = UDim2.new(1, -40, 1, -40)
IntroLabel.Position = UDim2.new(0, 20, 0, 20)
IntroLabel.BackgroundTransparency = 1
IntroLabel.TextColor3 = whiteColor
IntroLabel.Font = Enum.Font.FredokaOne
IntroLabel.TextSize = 26
IntroLabel.TextWrapped = true
IntroLabel.Text = "Welcome!, "..plr.Name..".\nMade by ST1CKSNH0RR0R."
IntroLabel.Parent = IntroFrame

-- Outro Frame
local OutroFrame = Instance.new("Frame")
OutroFrame.Name = "OutroFrame"
OutroFrame.Size = UDim2.new(0, 400, 0, 200)
OutroFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
OutroFrame.AnchorPoint = Vector2.new(0.5, 0.5)
OutroFrame.BackgroundColor3 = brownColor
OutroFrame.BackgroundTransparency = 0.3
roundify(OutroFrame, UDim.new(0, 30))
OutroFrame.Parent = ScreenGui
OutroFrame.Visible = false

local OutroLabel = Instance.new("TextLabel")
OutroLabel.Size = UDim2.new(1, -40, 1, -40)
OutroLabel.Position = UDim2.new(0, 20, 0, 20)
OutroLabel.BackgroundTransparency = 1
OutroLabel.TextColor3 = whiteColor
OutroLabel.Font = Enum.Font.FredokaOne
OutroLabel.TextSize = 26
OutroLabel.TextWrapped = true
OutroLabel.Text = "Now shutting down UI."
OutroLabel.Parent = OutroFrame

-- Mini draggable icon (hidden initially)
local MiniIcon = Instance.new("ImageButton")
MiniIcon.Name = "MiniIcon"
MiniIcon.Size = UDim2.new(0, 90, 0, 90)
MiniIcon.Position = UDim2.new(0, 20, 0.5, -45)
MiniIcon.BackgroundTransparency = 0.3
MiniIcon.BackgroundColor3 = brownColor
MiniIcon.Image = "rbxassetid://109474968637074"
roundify(MiniIcon, UDim.new(0, 20))
MiniIcon.Parent = ScreenGui
MiniIcon.Visible = false
MiniIcon.AutoButtonColor = false

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 700, 0, 480)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.BackgroundColor3 = brownColor
roundify(MainFrame, UDim.new(0, 25))
MainFrame.Parent = ScreenGui
MainFrame.BackgroundTransparency = transparent
MainFrame.Visible = false
MainFrame.Active = true
MainFrame.Draggable = false -- manual drag for mobile + pc below

-- Mobile & PC draggable support for MainFrame and MiniIcon
local function makeDraggable(frame)
    local dragging = false
    local dragInput, dragStart, startPos

    local function update(input)
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                                   startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end

    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or (UserInputService.TouchEnabled and input.UserInputType == Enum.UserInputType.Touch) then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position

            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    frame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if dragging and input == dragInput then
            update(input)
        end
    end)
end

makeDraggable(MainFrame)
makeDraggable(MiniIcon)

-- Mac-style buttons container
local BtnContainer = Instance.new("Frame")
BtnContainer.Size = UDim2.new(0, 90, 0, 28)
BtnContainer.Position = UDim2.new(0, 12, 0, 10)
BtnContainer.BackgroundTransparency = 1
BtnContainer.Parent = MainFrame

local macColors = {
    Color3.fromRGB(255, 95, 86),   -- close red
    Color3.fromRGB(255, 189, 46),  -- minimize yellow
    Color3.fromRGB(39, 201, 63)    -- maximize green
}

local CloseBtn, MinimizeBtn, MaximizeBtn

for i, col in ipairs(macColors) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 20, 0, 20)
    btn.Position = UDim2.new(0, (i-1)*30, 0, 0)
    btn.BackgroundColor3 = col
    btn.BorderSizePixel = 0
    btn.Text = ""
    btn.AutoButtonColor = false
    roundify(btn, UDim.new(0, 10))
    btn.Parent = BtnContainer
    if i == 1 then CloseBtn = btn
    elseif i == 2 then MinimizeBtn = btn
    else MaximizeBtn = btn end
end

-- Title Label
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(0, 400, 0, 30)
TitleLabel.Position = UDim2.new(0, 120, 0, 10)
TitleLabel.BackgroundTransparency = 1
TitleLabel.TextColor3 = whiteColor
TitleLabel.Font = Enum.Font.FredokaOne
TitleLabel.TextSize = 22
TitleLabel.Text = "BobaExecutor"
TitleLabel.Parent = MainFrame

-- Version Label
local VersionLabel = Instance.new("TextLabel")
VersionLabel.Size = UDim2.new(0, 50, 0, 20)
VersionLabel.Position = UDim2.new(1, -60, 1, -30)
VersionLabel.BackgroundTransparency = 1
VersionLabel.TextColor3 = whiteColor
VersionLabel.Font = Enum.Font.FredokaOne
VersionLabel.TextSize = 14
VersionLabel.Text = "V2"
VersionLabel.TextXAlignment = Enum.TextXAlignment.Right
VersionLabel.Parent = MainFrame

-- Input box background frame (darker brown)
local InputBG = Instance.new("Frame")
InputBG.Size = UDim2.new(0, 660, 0, 140)
InputBG.Position = UDim2.new(0, 20, 0, 60)
InputBG.BackgroundColor3 = brownInputBG
InputBG.Parent = MainFrame
roundify(InputBG, UDim.new(0, 18))

-- Script Input Box
local ScriptInput = Instance.new("TextBox")
ScriptInput.Size = UDim2.new(1, -20, 1, -20)
ScriptInput.Position = UDim2.new(0, 10, 0, 10)
ScriptInput.BackgroundTransparency = 1
ScriptInput.TextColor3 = whiteColor
ScriptInput.Font = Enum.Font.FredokaOne
ScriptInput.TextSize = 18
ScriptInput.TextWrapped = true
ScriptInput.ClearTextOnFocus = false
ScriptInput.MultiLine = true
ScriptInput.PlaceholderText = "Enter script here"
ScriptInput.Parent = InputBG

-- Auto placeholder reset if cleared
ScriptInput.Focused:Connect(function()
    if ScriptInput.Text == "Enter script here" then
        ScriptInput.Text = ""
    end
end)
ScriptInput.FocusLost:Connect(function()
    if ScriptInput.Text == "" then
        ScriptInput.Text = "Enter script here"
    end
end)

-- Execute Button
local ExecuteBtn = Instance.new("TextButton")
ExecuteBtn.Size = UDim2.new(0, 180, 0, 45)
ExecuteBtn.Position = UDim2.new(0, 20, 0, 210)
ExecuteBtn.BackgroundColor3 = brownColorDarker
ExecuteBtn.TextColor3 = whiteColor
ExecuteBtn.Font = Enum.Font.FredokaOne
ExecuteBtn.TextSize = 20
ExecuteBtn.Text = "Execute script!"
ExecuteBtn.AutoButtonColor = false
roundify(ExecuteBtn, UDim.new(0, 20))
ExecuteBtn.Parent = MainFrame

-- Logs Background
local LogBG = Instance.new("Frame")
LogBG.Size = UDim2.new(0, 660, 0, 180)
LogBG.Position = UDim2.new(0, 20, 0, 270)
LogBG.BackgroundColor3 = brownInputBG
LogBG.Parent = MainFrame
roundify(LogBG, UDim.new(0, 18))

-- Log Label (multi-line)
local LogLabel = Instance.new("TextLabel")
LogLabel.Size = UDim2.new(1, -20, 1, -20)
LogLabel.Position = UDim2.new(0, 10, 0, 10)
LogLabel.BackgroundTransparency = 1
LogLabel.TextColor3 = whiteColor
LogLabel.Font = Enum.Font.FredokaOne
LogLabel.TextSize = 16
LogLabel.TextWrapped = true
LogLabel.TextYAlignment = Enum.TextYAlignment.Top
LogLabel.Text = "Logs:\n"
LogLabel.Parent = LogBG

-- Safe function to execute user script with error catching
local function executeScript(code)
    local func, err = loadstring(code)
    if not func then
        LogLabel.Text = LogLabel.Text .. "\nError: " .. err
        return
    end
    local success, execErr = pcall(func)
    if not success then
        LogLabel.Text = LogLabel.Text .. "\nRuntime error: " .. execErr
    else
        LogLabel.Text = LogLabel.Text .. "\nScript executed successfully!"
    end
end

-- Execute button click
ExecuteBtn.MouseButton1Click:Connect(function()
    local code = ScriptInput.Text
    if code == "" or code == "Enter script here" then
        LogLabel.Text = LogLabel.Text .. "\nNo script entered!"
        return
    end
    executeScript(code)
end)

-- Internet button
local InternetBtn = Instance.new("ImageButton")
InternetBtn.Size = UDim2.new(0, 40, 0, 40)
InternetBtn.Position = UDim2.new(1, -70, 1, -70)
InternetBtn.BackgroundTransparency = 1
InternetBtn.Image = "rbxassetid://6031094673"
InternetBtn.Parent = MainFrame

InternetBtn.MouseButton1Click:Connect(function()
    local url = "https://scriptblox.com"
    pcall(function()
        setclipboard(url)
        LogLabel.Text = LogLabel.Text .. "\nScriptblox URL copied to clipboard!"
    end)
end)

-- Minimize button functionality
local minimized = false
MinimizeBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        MainFrame.Visible = false
        MiniIcon.Visible = true
    else
        MainFrame.Visible = true
        MiniIcon.Visible = false
    end
end)

-- Maximize button functionality
local normalSize = MainFrame.Size
local maxSize = UDim2.new(1, 0, 1, 0)
MaximizeBtn.MouseButton1Click:Connect(function()
    if MainFrame.Size == normalSize then
        MainFrame:TweenSize(maxSize, Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.4, true)
    else
        MainFrame:TweenSize(normalSize, Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.4, true)
    end
end)

-- Mini icon click shows main UI again
MiniIcon.MouseButton1Click:Connect(function()
    MiniIcon.Visible = false
    MainFrame.Visible = true
end)

-- Exit button bottom left
local ExitBtn = Instance.new("TextButton")
ExitBtn.Size = UDim2.new(0, 100, 0, 40)
ExitBtn.Position = UDim2.new(0, 20, 1, -50)
ExitBtn.BackgroundColor3 = brownColorDarker
ExitBtn.TextColor3 = whiteColor
ExitBtn.Font = Enum.Font.FredokaOne
ExitBtn.TextSize = 18
ExitBtn.Text = "Exit"
ExitBtn.AutoButtonColor = false
roundify(ExitBtn, UDim.new(0, 15))
ExitBtn.Parent = MainFrame

ExitBtn.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
    OutroFrame.Visible = true
    setStatus("See you later!, "..plr.Name..".")
    local outroTween = TweenService:Create(OutroFrame, TweenInfo.new(3), {BackgroundTransparency = 1})
    outroTween:Play()
    outroTween.Completed:Wait()
    ScreenGui:Destroy()
end)

-- Status Text for dynamic messages below Exit Button
local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(0, 200, 0, 30)
StatusLabel.Position = UDim2.new(0, 140, 1, -50)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = whiteColor
StatusLabel.Font = Enum.Font.FredokaOne
StatusLabel.TextSize = 18
StatusLabel.Text = ""
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left
StatusLabel.Parent = MainFrame

local function setStatus(text)
    StatusLabel.Text = text
end

-- Fade in main UI after intro
IntroFrame.BackgroundTransparency = 0.3
IntroLabel.TextTransparency = 0
wait(2)
local fadeOutIntro = TweenService:Create(IntroFrame, TweenInfo.new(1), {BackgroundTransparency = 1})
local fadeOutLabel = TweenService:Create(IntroLabel, TweenInfo.new(1), {TextTransparency = 1})
fadeOutIntro:Play()
fadeOutLabel:Play()
fadeOutIntro.Completed:Wait()
IntroFrame.Visible = false
MainFrame.Visible = true

local fadeInMain = TweenService:Create(MainFrame, TweenInfo.new(1), {BackgroundTransparency = transparent})
fadeInMain:Play()

-- Add boba 🧋 emoji particles effect
local function createBobaEmoji()
    local emojiLabel = Instance.new("TextLabel")
    emojiLabel.Size = UDim2.new(0, 40, 0, 40)
    emojiLabel.Position = UDim2.new(math.random(), 0, math.random(), 0)
    emojiLabel.BackgroundTransparency = 1
    emojiLabel.Text = "🧋"
    emojiLabel.TextColor3 = Color3.fromRGB(210, 150, 90)
    emojiLabel.TextScaled = true
    emojiLabel.Font = Enum.Font.FredokaOne
    emojiLabel.Parent = ScreenGui

    local tweenUp = TweenService:Create(emojiLabel, TweenInfo.new(3), {Position = UDim2.new(emojiLabel.Position.X.Scale, 0, emojiLabel.Position.Y.Scale - 0.1, 0), TextTransparency = 1})
    tweenUp:Play()
    tweenUp.Completed:Connect(function()
        emojiLabel:Destroy()
    end)
end

while true do
    wait(1)
    createBobaEmoji()
end
